{
  "file_path": "src/web/manager/components/ui/Switch.tsx",
  "main_branch_history": [],
  "task_views": {
    "004-document-frontend-react-components-and-hooks": {
      "task_id": "004-document-frontend-react-components-and-hooks",
      "branch_point": {
        "commit_hash": "34a3f60da53773d90bd6579cb1cfd8417a1dd0b9",
        "content": "import React from 'react';\n\nexport interface SwitchProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Switch = React.forwardRef<HTMLInputElement, SwitchProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <label className=\"relative inline-flex items-center cursor-pointer\">\n        <input type=\"checkbox\" value=\"\" className=\"sr-only peer\" ref={ref} {...props} />\n        <div className={`\n          w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 \n          peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] \n          after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\n          ${className || ''}\n        `}></div>\n      </label>\n    );\n  }\n);\n\nexport { Switch };\n",
        "timestamp": "2026-01-02T14:22:14.293924"
      },
      "worktree_state": {
        "content": "/**\n * Switch Component\n *\n * A modern toggle/switch component that provides an iOS-style on/off control. Built on top\n * of a native checkbox input for full accessibility and keyboard support, styled with a\n * smooth animated slider that transitions between states.\n *\n * ## Features\n * - iOS-style toggle switch with smooth transitions\n * - Full keyboard navigation (Space/Enter to toggle)\n * - Screen reader accessible (uses native checkbox with proper labeling)\n * - Focus ring for keyboard navigation visibility\n * - Checked/unchecked state with visual feedback\n * - Dark mode support with automatic theme adaptation\n * - Animated slider movement when toggling\n * - Supports ref forwarding for direct input access\n *\n * ## Toggle Behavior\n * The switch responds to:\n * - **Click/Tap**: Toggle between on and off states\n * - **Keyboard**: Space or Enter key when focused\n * - **Programmatic**: Set via `checked` or `defaultChecked` props\n *\n * The component is a controlled or uncontrolled input:\n * - **Controlled**: Use `checked` prop with `onChange` handler\n * - **Uncontrolled**: Use `defaultChecked` with optional `onChange`\n *\n * ## Checked State\n * Visual changes when checked:\n * - Background color changes from gray to blue\n * - Slider (white circle) translates to the right\n * - Border color adapts for dark mode\n *\n * When unchecked:\n * - Background is light gray (or dark gray in dark mode)\n * - Slider positioned on the left side\n *\n * ## Accessibility\n * - Uses native `<input type=\"checkbox\">` for semantic HTML\n * - Input is visually hidden (sr-only) but remains in DOM for screen readers\n * - Focus ring appears on keyboard navigation (peer-focus:ring)\n * - Can be labeled with standard `<label>` or aria-label attributes\n * - Supports all ARIA attributes via spread props\n * - Keyboard accessible with native checkbox behavior\n *\n * ## Styling Behavior\n * The component uses Tailwind CSS with peer modifier pattern:\n * - **Container**: Inline-flex label with cursor pointer\n * - **Hidden Input**: Screen reader only (sr-only), marked as peer for CSS targeting\n * - **Slider Track**: 44px \u00d7 24px rounded pill shape with background color\n * - **Slider Thumb**: Absolute positioned white circle (20px) that slides on toggle\n * - **Transitions**: Smooth animation for background color and slider position\n * - **Focus State**: Blue ring appears when input receives keyboard focus\n * - **Dark Mode**: Automatic theme adaptation for backgrounds and borders\n *\n * @example\n * // Basic controlled switch\n * const [isEnabled, setIsEnabled] = useState(false);\n *\n * <Switch\n *   checked={isEnabled}\n *   onChange={(e) => setIsEnabled(e.target.checked)}\n * />\n *\n * @example\n * // Uncontrolled switch with default value\n * <Switch defaultChecked={true} />\n *\n * @example\n * // Switch with label using wrapper\n * <div className=\"flex items-center space-x-2\">\n *   <Switch\n *     id=\"notifications\"\n *     checked={notificationsEnabled}\n *     onChange={(e) => setNotificationsEnabled(e.target.checked)}\n *   />\n *   <label htmlFor=\"notifications\">\n *     Enable notifications\n *   </label>\n * </div>\n *\n * @example\n * // Disabled switch\n * <Switch disabled checked={true} />\n *\n * @example\n * // Switch with change handler\n * <Switch\n *   onChange={(e) => {\n *     console.log('Switch toggled:', e.target.checked);\n *     updateSetting(e.target.checked);\n *   }}\n * />\n *\n * @example\n * // Form integration with name attribute\n * <form>\n *   <Switch\n *     name=\"emailNotifications\"\n *     defaultChecked={true}\n *   />\n *   <Switch\n *     name=\"pushNotifications\"\n *     defaultChecked={false}\n *   />\n * </form>\n *\n * @example\n * // With custom className for additional styling\n * <Switch\n *   className=\"scale-125\"\n *   checked={isActive}\n *   onChange={(e) => setIsActive(e.target.checked)}\n * />\n *\n * @example\n * // Using ref to programmatically control\n * const switchRef = useRef<HTMLInputElement>(null);\n *\n * const handleButtonClick = () => {\n *   if (switchRef.current) {\n *     switchRef.current.checked = !switchRef.current.checked;\n *   }\n * };\n *\n * <Switch ref={switchRef} />\n */\n\nimport React from 'react';\n\n/**\n * Props for the Switch component\n *\n * Extends all standard HTML input (checkbox) attributes, allowing full access to native\n * checkbox functionality including checked, defaultChecked, onChange, disabled, name, value, etc.\n *\n * Common props:\n * - `checked`: Controlled checked state (boolean)\n * - `defaultChecked`: Uncontrolled initial checked state (boolean)\n * - `onChange`: Callback fired when switch is toggled (ChangeEvent<HTMLInputElement>)\n * - `disabled`: Whether the switch is disabled (boolean)\n * - `name`: Name for form submission (string)\n * - `id`: ID for linking with label elements (string)\n * - `className`: Additional CSS classes for the slider track (string)\n * - `required`: Whether the switch must be checked for form validation (boolean)\n * - `aria-label`: Accessible label when not using visual label (string)\n * - `aria-labelledby`: ID of element that labels this switch (string)\n * - `aria-describedby`: ID of element that describes this switch (string)\n */\nexport interface SwitchProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Switch = React.forwardRef<HTMLInputElement, SwitchProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <label className=\"relative inline-flex items-center cursor-pointer\">\n        <input type=\"checkbox\" value=\"\" className=\"sr-only peer\" ref={ref} {...props} />\n        <div className={`\n          w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700\n          peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px]\n          after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\n          ${className || ''}\n        `}></div>\n      </label>\n    );\n  }\n);\n\nSwitch.displayName = 'Switch';\n\nexport { Switch };\n",
        "last_modified": "2026-01-02T14:22:15.584222"
      },
      "task_intent": {
        "title": "Document Frontend React Components and Hooks",
        "description": "Add comprehensive JSDoc documentation to all React components and custom hooks in the frontend, including prop types, usage examples, component purposes, state management, and side effects.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-02T14:01:11.994711",
  "last_updated": "2026-01-02T14:22:15.343070"
}