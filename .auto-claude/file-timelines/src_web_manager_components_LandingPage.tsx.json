{
  "file_path": "src/web/manager/components/LandingPage.tsx",
  "main_branch_history": [],
  "task_views": {
    "004-document-frontend-react-components-and-hooks": {
      "task_id": "004-document-frontend-react-components-and-hooks",
      "branch_point": {
        "commit_hash": "34a3f60da53773d90bd6579cb1cfd8417a1dd0b9",
        "content": "import React, { useRef, ChangeEvent, useState, useEffect } from 'react';\nimport { Button } from './ui/Button';\nimport { Input } from './ui/Input';\nimport { FolderIcon, ArrowRightIcon, ArrowLeftIcon } from './ui/Icons';\n\ninterface LandingPageProps {\n  onDirectoryChange: (path: string) => void;\n  onNext: () => void;\n  directorySelected: boolean;\n  directoryName?: string;\n  onBack: () => void;\n}\n\nconst LandingPage: React.FC<LandingPageProps> = ({ onDirectoryChange, onNext, directorySelected, directoryName, onBack }) => {\n  const [pathInput, setPathInput] = useState(directoryName || '');\n\n  // Automatically trigger onDirectoryChange if directoryName is pre-populated from localStorage\n  useEffect(() => {\n    if (directoryName && directoryName.trim()) {\n      onDirectoryChange(directoryName.trim());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [directoryName]);\n\n  const handlePathChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setPathInput(value);\n    if (value.trim()) {\n      onDirectoryChange(value.trim());\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center text-center max-w-3xl mx-auto animate-fade-in\">\n      <h2 className=\"text-3xl sm:text-4xl lg:text-5xl font-bold tracking-tight text-foreground\">\n        Select Your Project\n      </h2>\n      <p className=\"mt-4 text-lg text-muted-foreground max-w-2xl\">\n        Enter the full path to your project directory. The tool will automatically scan for Claude Agent configurations.\n      </p>\n\n      <div className=\"mt-10 w-full max-w-2xl space-y-4\">\n        <div className=\"flex flex-col gap-2\">\n          <label htmlFor=\"path-input\" className=\"text-sm font-medium text-left\">\n            Project Directory Path\n          </label>\n          <Input\n            id=\"path-input\"\n            type=\"text\"\n            placeholder=\"C:/Users/YourName/Documents/Projects/your-project\"\n            value={pathInput}\n            onChange={handlePathChange}\n            className=\"text-sm font-mono\"\n          />\n          <p className=\"text-xs text-muted-foreground text-left\">\n            Example: <code className=\"bg-muted px-1 py-0.5 rounded-sm\">C:/Users/Ali/Documents/Projects/claude-agent-sdk-typescript</code>\n          </p>\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row gap-4 mt-6\">\n          <Button onClick={onNext} disabled={!directorySelected} size=\"lg\" className=\"w-full sm:w-auto flex-grow\">\n            Next\n            <ArrowRightIcon className=\"h-5 w-5 ml-2\" />\n          </Button>\n        </div>\n      </div>\n\n      <p className=\"mt-6 text-sm text-muted-foreground\">\n        We'll look for a <code className=\"bg-muted px-1 py-0.5 rounded-sm font-mono text-xs\">.claude</code> folder inside this directory.\n      </p>\n\n      <div className=\"mt-8\">\n        <Button onClick={onBack} variant=\"secondary\" size=\"sm\">\n          <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n          Back to Home\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n",
        "timestamp": "2026-01-02T14:22:14.293924"
      },
      "worktree_state": {
        "content": "/**\n * @file LandingPage.tsx\n * @description Project directory selection page in the Claude Agent Manager setup workflow.\n * Allows users to specify the path to their Claude Agent project directory for validation and configuration.\n * This is the second step in the setup process, following the HomePage welcome screen.\n *\n * ## Features\n * - **Directory Path Input**: Text input with monospace font for entering full directory paths\n * - **Auto-Population**: Automatically loads directory from localStorage if previously selected\n * - **Real-Time Validation**: Updates directory selection state as user types\n * - **Example Guidance**: Shows example directory path format with inline code styling\n * - **Navigation Controls**: Next button (disabled until valid directory) and Back button\n * - **Responsive Layout**: Mobile-first centered column layout with breakpoints\n * - **Animated Entry**: Fade-in animation on component mount\n * - **Visual Feedback**: Disabled state on Next button until directory is entered\n *\n * ## Layout Structure\n * The LandingPage uses a centered column layout with four main sections:\n *\n * ### 1. Hero Section\n * - **Title**: \"Select Your Project\" with responsive typography (3xl mobile, 4xl tablet, 5xl desktop)\n * - **Font Weight**: Bold (700) with tight tracking for emphasis\n * - **Color**: text-foreground for high contrast\n * - **Spacing**: Centered alignment with items-center\n *\n * ### 2. Description Section\n * - **Content**: Explanation of directory selection purpose and automatic scanning behavior\n * - **Typography**: lg (18px) text size for readability\n * - **Color**: text-muted-foreground for subtle contrast\n * - **Max Width**: 2xl (42rem) for optimal reading line length\n * - **Spacing**: mt-4 (16px) gap from title\n *\n * ### 3. Form Section\n * - **Label**: \"Project Directory Path\" with left-aligned text-sm font-medium\n * - **Input**: Input component with monospace font for path display\n * - **Placeholder**: Windows-style path example (C:/Users/...)\n * - **Example Text**: Inline code block showing actual project path format\n * - **Spacing**: mt-10 (40px) gap from description, space-y-4 for internal gaps\n * - **Width**: max-w-2xl (42rem) for comfortable form width\n *\n * ### 4. Navigation Section\n * - **Next Button**: Large primary button with ArrowRightIcon, disabled until directorySelected is true\n * - **Info Text**: Explanation about .claude folder lookup (mt-6, text-sm)\n * - **Back Button**: Secondary small button with ArrowLeftIcon (mt-8)\n * - **Responsive Buttons**: Column layout on mobile, row layout on tablet+ (sm:flex-row)\n *\n * ## Directory Selection\n * The component handles directory selection through a controlled input pattern:\n *\n * ### Input Handling\n * 1. **User types in input field** - handlePathChange is invoked\n * 2. **Input value updates local state** - setPathInput updates pathInput\n * 3. **Value is trimmed** - Whitespace is removed before processing\n * 4. **Callback is invoked** - onDirectoryChange is called with trimmed path if non-empty\n * 5. **Parent component updates state** - ManagerApp validates and sets directorySelected flag\n * 6. **Next button enables** - Button becomes clickable when directorySelected is true\n *\n * ### Path Validation\n * - **Trimming**: All paths are trimmed before processing to remove accidental whitespace\n * - **Non-Empty Check**: Only non-empty trimmed strings trigger onDirectoryChange callback\n * - **Real-Time Updates**: Directory change callback fires on every keystroke (after trimming)\n * - **Parent Validation**: Actual validation logic is handled by parent component (ManagerApp)\n *\n * ## Auto-Population\n * The component automatically loads the directory from localStorage on mount:\n *\n * ### useEffect Hook\n * - **Trigger**: Runs when directoryName prop changes\n * - **Condition**: Only fires if directoryName is truthy and non-empty after trimming\n * - **Behavior**: Calls onDirectoryChange with the directoryName value\n * - **Purpose**: Restores previously selected directory from ManagerApp's localStorage\n * - **Dependencies**: [directoryName] (react-hooks/exhaustive-deps warning disabled for onDirectoryChange)\n *\n * ### Flow\n * 1. **ManagerApp loads** - Reads directory from localStorage\n * 2. **LandingPage mounts** - Receives directoryName prop from localStorage\n * 3. **useEffect fires** - Automatically calls onDirectoryChange(directoryName)\n * 4. **ManagerApp validates** - Sets directorySelected flag based on validation\n * 5. **Input pre-populates** - pathInput state is initialized with directoryName\n * 6. **Next button enables** - User can proceed immediately if directory is valid\n *\n * ## Navigation Flow\n * The LandingPage is the second step in the setup workflow:\n *\n * 1. **User lands on LandingPage** (setupStep='landing' in ManagerApp)\n * 2. **User enters directory path** or sees pre-populated path from localStorage\n * 3. **User clicks \"Next\"** button (only enabled if directorySelected is true)\n * 4. **onNext callback** invoked by LandingPage\n * 5. **ManagerApp transitions** to validation page (setupStep='validation')\n * 6. **ValidationPage displays** and begins project validation\n *\n * Alternatively:\n * 1. **User clicks \"Back to Home\"** button\n * 2. **onBack callback** invoked by LandingPage\n * 3. **ManagerApp transitions** to home page (setupStep='home')\n * 4. **HomePage displays** welcome screen\n *\n * ## Styling Behavior\n * The component uses Tailwind CSS classes for styling:\n *\n * - **Container**: flex flex-col items-center text-center max-w-3xl mx-auto\n * - **Animation**: animate-fade-in class for smooth entrance (defined in global CSS)\n * - **Responsive Typography**: text-3xl sm:text-4xl lg:text-5xl for title scaling\n * - **Form Layout**: space-y-4 for consistent vertical spacing between form elements\n * - **Input Styling**: font-mono for monospace path display, text-sm for compact text\n * - **Button Layout**: flex-col sm:flex-row gap-4 for responsive button arrangement\n * - **Button Sizing**: lg for Next button (prominent CTA), sm for Back button (secondary action)\n * - **Disabled State**: Next button opacity and cursor changes when disabled\n * - **Code Elements**: bg-muted px-1 py-0.5 rounded-sm font-mono for inline code blocks\n * - **Color Scheme**: Uses theme colors (foreground, muted-foreground, primary) for consistency\n * - **Icon Size**: h-5 w-5 (20px) for Next icon, h-4 w-4 (16px) for Back icon\n *\n * @example\n * // Basic usage in ManagerApp setup phase\n * import LandingPage from './components/LandingPage';\n *\n * function ManagerApp() {\n *   const [setupStep, setSetupStep] = useState<SetupStep>('landing');\n *   const [directory, setDirectory] = useState<string>('');\n *   const [directorySelected, setDirectorySelected] = useState<boolean>(false);\n *\n *   const handleDirectoryChange = (path: string) => {\n *     setDirectory(path);\n *     setDirectorySelected(!!path); // Simple validation\n *   };\n *\n *   const handleNext = () => {\n *     setSetupStep('validation');\n *   };\n *\n *   const handleBack = () => {\n *     setSetupStep('home');\n *   };\n *\n *   if (setupStep === 'landing') {\n *     return (\n *       <LandingPage\n *         onDirectoryChange={handleDirectoryChange}\n *         onNext={handleNext}\n *         directorySelected={directorySelected}\n *         directoryName={directory}\n *         onBack={handleBack}\n *       />\n *     );\n *   }\n *\n *   // ... render other setup steps\n * }\n *\n * @example\n * // Understanding the directory selection workflow\n * // Step-by-step flow when user enters a directory path:\n *\n * // 1. User types in input field\n * <Input\n *   value=\"C:/Users/Ali/Documents/Projects/my-project\"\n *   onChange={handlePathChange}\n * />\n *\n * // 2. handlePathChange fires\n * const handlePathChange = (e) => {\n *   const value = e.target.value;                    // Get input value\n *   setPathInput(value);                             // Update local state\n *   if (value.trim()) {                              // Check if non-empty after trim\n *     onDirectoryChange(value.trim());               // Notify parent with trimmed path\n *   }\n * };\n *\n * // 3. Parent component (ManagerApp) receives callback\n * const handleDirectoryChange = (path: string) => {\n *   setDirectory(path);                              // Store directory path\n *   // Validate path (e.g., check if .claude folder exists)\n *   const isValid = validateDirectory(path);\n *   setDirectorySelected(isValid);                   // Enable/disable Next button\n * };\n *\n * // 4. Next button state updates\n * <Button\n *   onClick={onNext}\n *   disabled={!directorySelected}                    // Enabled only if valid\n * />\n *\n * @example\n * // Auto-population from localStorage\n * import LandingPage from './components/LandingPage';\n *\n * function ManagerApp() {\n *   const [directory, setDirectory] = useState<string>('');\n *\n *   useEffect(() => {\n *     // Load directory from localStorage on app mount\n *     const savedDirectory = localStorage.getItem('selectedDirectory');\n *     if (savedDirectory) {\n *       setDirectory(savedDirectory);\n *     }\n *   }, []);\n *\n *   const handleDirectoryChange = (path: string) => {\n *     setDirectory(path);\n *     localStorage.setItem('selectedDirectory', path);\n *   };\n *\n *   return (\n *     <LandingPage\n *       onDirectoryChange={handleDirectoryChange}\n *       directoryName={directory}  // Pre-populated from localStorage\n *       // ... other props\n *     />\n *   );\n *\n *   // LandingPage's useEffect will automatically call onDirectoryChange\n *   // with the pre-populated directory, triggering validation\n * }\n *\n * @example\n * // Complete navigation flow\n * // Understanding the setup workflow progression:\n *\n * // Step 1: User on HomePage, clicks \"Get Started\"\n * <HomePage onGetStarted={() => setSetupStep('landing')} />\n *\n * // Step 2: User on LandingPage, enters directory path\n * <LandingPage\n *   onDirectoryChange={handleDirectoryChange}\n *   onNext={() => setSetupStep('validation')}         // Forward navigation\n *   onBack={() => setSetupStep('home')}               // Backward navigation\n *   directorySelected={directorySelected}\n *   directoryName={directory}\n * />\n *\n * // Step 3: User clicks \"Next\" (if directory is valid)\n * // - onNext callback fires\n * // - setupStep changes to 'validation'\n * // - ValidationPage displays and runs validation\n *\n * // Alternative: User clicks \"Back to Home\"\n * // - onBack callback fires\n * // - setupStep changes to 'home'\n * // - HomePage displays welcome screen\n */\n\nimport React, { useRef, ChangeEvent, useState, useEffect } from 'react';\nimport { Button } from './ui/Button';\nimport { Input } from './ui/Input';\nimport { FolderIcon, ArrowRightIcon, ArrowLeftIcon } from './ui/Icons';\n\n/**\n * Props for the LandingPage component\n *\n * @interface LandingPageProps\n * @property {(path: string) => void} onDirectoryChange - Callback function invoked when user enters or modifies the directory path.\n *                                                         Receives the trimmed directory path string. Called on every keystroke\n *                                                         (after trimming) and automatically on mount if directoryName is provided.\n *                                                         Parent component should validate the path and update directorySelected flag.\n * @property {() => void} onNext - Callback function invoked when user clicks the \"Next\" button.\n *                                  Should transition to the validation page (setupStep='validation') in ManagerApp.\n *                                  Button is only enabled when directorySelected is true.\n * @property {boolean} directorySelected - Flag indicating whether the entered directory path is valid and selected.\n *                                          Controls the disabled state of the \"Next\" button. Should be set by parent\n *                                          component based on validation logic (e.g., checking if .claude folder exists).\n * @property {string} [directoryName] - Optional pre-populated directory path, typically loaded from localStorage.\n *                                       When provided, the input field is pre-filled with this value and the\n *                                       useEffect hook automatically calls onDirectoryChange to trigger validation.\n * @property {() => void} onBack - Callback function invoked when user clicks the \"Back to Home\" button.\n *                                  Should transition back to the home page (setupStep='home') in ManagerApp.\n */\ninterface LandingPageProps {\n  onDirectoryChange: (path: string) => void;\n  onNext: () => void;\n  directorySelected: boolean;\n  directoryName?: string;\n  onBack: () => void;\n}\n\n/**\n * LandingPage component - Project directory selection for Claude Agent Manager\n *\n * Displays a directory selection interface where users specify their Claude Agent project path.\n * Handles input validation, localStorage restoration, and navigation between setup steps.\n *\n * @param {LandingPageProps} props - Component props\n * @returns {JSX.Element} Rendered LandingPage component\n */\nconst LandingPage: React.FC<LandingPageProps> = ({ onDirectoryChange, onNext, directorySelected, directoryName, onBack }) => {\n  const [pathInput, setPathInput] = useState(directoryName || '');\n\n  // Automatically trigger onDirectoryChange if directoryName is pre-populated from localStorage\n  useEffect(() => {\n    if (directoryName && directoryName.trim()) {\n      onDirectoryChange(directoryName.trim());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [directoryName]);\n\n  /**\n   * Handles changes to the directory path input field\n   *\n   * Updates local state with the input value and notifies parent component\n   * via onDirectoryChange callback if the trimmed value is non-empty.\n   *\n   * Workflow:\n   * 1. Extract value from input change event\n   * 2. Update pathInput state with raw value (including whitespace)\n   * 3. Trim value to remove leading/trailing whitespace\n   * 4. If trimmed value is non-empty, invoke onDirectoryChange callback\n   * 5. Parent component validates path and updates directorySelected flag\n   *\n   * @internal\n   * @param {ChangeEvent<HTMLInputElement>} e - Input change event from directory path field\n   * @returns {void}\n   */\n  const handlePathChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setPathInput(value);\n    if (value.trim()) {\n      onDirectoryChange(value.trim());\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center text-center max-w-3xl mx-auto animate-fade-in\">\n      <h2 className=\"text-3xl sm:text-4xl lg:text-5xl font-bold tracking-tight text-foreground\">\n        Select Your Project\n      </h2>\n      <p className=\"mt-4 text-lg text-muted-foreground max-w-2xl\">\n        Enter the full path to your project directory. The tool will automatically scan for Claude Agent configurations.\n      </p>\n\n      <div className=\"mt-10 w-full max-w-2xl space-y-4\">\n        <div className=\"flex flex-col gap-2\">\n          <label htmlFor=\"path-input\" className=\"text-sm font-medium text-left\">\n            Project Directory Path\n          </label>\n          <Input\n            id=\"path-input\"\n            type=\"text\"\n            placeholder=\"C:/Users/YourName/Documents/Projects/your-project\"\n            value={pathInput}\n            onChange={handlePathChange}\n            className=\"text-sm font-mono\"\n          />\n          <p className=\"text-xs text-muted-foreground text-left\">\n            Example: <code className=\"bg-muted px-1 py-0.5 rounded-sm\">C:/Users/Ali/Documents/Projects/claude-agent-sdk-typescript</code>\n          </p>\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row gap-4 mt-6\">\n          <Button onClick={onNext} disabled={!directorySelected} size=\"lg\" className=\"w-full sm:w-auto flex-grow\">\n            Next\n            <ArrowRightIcon className=\"h-5 w-5 ml-2\" />\n          </Button>\n        </div>\n      </div>\n\n      <p className=\"mt-6 text-sm text-muted-foreground\">\n        We'll look for a <code className=\"bg-muted px-1 py-0.5 rounded-sm font-mono text-xs\">.claude</code> folder inside this directory.\n      </p>\n\n      <div className=\"mt-8\">\n        <Button onClick={onBack} variant=\"secondary\" size=\"sm\">\n          <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n          Back to Home\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nLandingPage.displayName = 'LandingPage';\n\nexport default LandingPage;\n",
        "last_modified": "2026-01-02T14:22:15.556428"
      },
      "task_intent": {
        "title": "Document Frontend React Components and Hooks",
        "description": "Add comprehensive JSDoc documentation to all React components and custom hooks in the frontend, including prop types, usage examples, component purposes, state management, and side effects.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-02T14:01:11.258636",
  "last_updated": "2026-01-02T14:22:14.814549"
}