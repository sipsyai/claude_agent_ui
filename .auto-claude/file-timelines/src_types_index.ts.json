{
  "file_path": "src/types/index.ts",
  "main_branch_history": [],
  "task_views": {
    "004-document-frontend-react-components-and-hooks": {
      "task_id": "004-document-frontend-react-components-and-hooks",
      "branch_point": {
        "commit_hash": "34a3f60da53773d90bd6579cb1cfd8417a1dd0b9",
        "content": "// Core types and interfaces for CUI backend\nimport Anthropic from '@anthropic-ai/sdk';\n\n// Export SDK-specific types\nexport * from './sdk-types.js';\n\n// ============= STRAPI MIGRATION TYPES =============\n// Export new domain types for Strapi migration\nexport * from './agent.types.js';\nexport * from './strapi.types.js';\nexport * from './dto.types.js';\nexport * from './sse.types.js';\nexport * from './mcp-types.js';\n\n// Tool metrics types\nexport interface ToolMetrics {\n  linesAdded: number;\n  linesRemoved: number;\n  editCount: number;\n  writeCount: number;\n}\n\n// Base conversation types\nexport interface ConversationSummary {\n  sessionId: string; // Claude CLI's actual session ID (used for history files)\n  projectPath: string;\n  summary: string;\n  sessionInfo: SessionInfo; // Complete session metadata from SessionInfoService\n  createdAt: string;\n  updatedAt: string;\n  messageCount: number;\n  totalDuration: number;\n  model: string;\n  status: 'completed' | 'ongoing' | 'pending'; // Conversation status based on active streams\n  streamingId?: string; // CUI's internal streaming ID (only present when status is 'ongoing')\n  toolMetrics?: ToolMetrics; // Optional tool usage metrics\n}\n\nexport interface ConversationMessage {\n  uuid: string;\n  type: 'user' | 'assistant' | 'system';\n  message: Anthropic.Message | Anthropic.MessageParam;\n  timestamp: string;\n  sessionId: string; // Claude CLI's actual session ID\n  parentUuid?: string;\n  isSidechain?: boolean; // Whether this message is part of a sidechain conversation\n  userType?: string; // Type of user interaction (e.g., 'external')\n  cwd?: string; // Working directory when the message was created\n  version?: string; // Claude CLI version used for this message\n  durationMs?: number;\n}\n\n// Stream message types\nexport interface StreamMessage {\n  type: 'system' | 'assistant' | 'user' | 'result';\n  session_id: string; // Claude CLI's session ID (in stream messages)\n}\n\nexport interface SystemInitMessage extends StreamMessage {\n  type: 'system';\n  subtype: 'init';\n  cwd: string;\n  tools: string[];\n  mcp_servers: { name: string; status: string; }[];\n  model: string;\n  permissionMode: string;\n  apiKeySource: string;\n}\n\nexport interface AssistantStreamMessage extends StreamMessage {\n  type: 'assistant';\n  message: Anthropic.Message;\n  parent_tool_use_id?: string;\n}\n\nexport interface UserStreamMessage extends StreamMessage {\n  type: 'user';\n  message: Anthropic.MessageParam;\n  parent_tool_use_id?: string;\n}\n\nexport interface ResultStreamMessage extends StreamMessage {\n  type: 'result';\n  subtype: 'success' | 'error_max_turns' | 'error_during_execution';\n  is_error: boolean;\n  duration_ms: number;\n  duration_api_ms: number;\n  num_turns: number;\n  result?: string;\n  usage: {\n    input_tokens: number;\n    cache_creation_input_tokens: number;\n    cache_read_input_tokens: number;\n    output_tokens: number;\n    server_tool_use: {\n      web_search_requests: number;\n    };\n  };\n}\n\n// Permission types\nexport interface PermissionRequest {\n  id: string;\n  streamingId: string; // CUI's internal streaming identifier\n  toolName: string;\n  toolInput: Record<string, unknown>;\n  timestamp: string;\n  status: 'pending' | 'approved' | 'denied';\n  modifiedInput?: Record<string, unknown>;\n  denyReason?: string;\n}\n\n// Configuration types\nexport interface ConversationConfig {\n  workingDirectory: string;\n  initialPrompt: string;\n  model?: string;\n  allowedTools?: string[];\n  disallowedTools?: string[];\n  systemPrompt?: string;\n  claudeExecutablePath?: string;\n  previousMessages?: ConversationMessage[]; // Messages from previous session for resume context\n  permissionMode?: string; // Permission mode: \"acceptEdits\" | \"bypassPermissions\" | \"default\" | \"plan\"\n  skills?: any[]; // \u2705 NEW: Skills array from Strapi (will be synced to filesystem)\n  maxThinkingTokens?: number; // \u2705 Extended thinking budget in tokens (default: 10000)\n}\n\n// API request/response types\nexport interface StartConversationRequest {\n  workingDirectory: string;\n  initialPrompt: string;\n  model?: string;\n  allowedTools?: string[];\n  disallowedTools?: string[];\n  systemPrompt?: string;\n  permissionMode?: string; // Permission mode: \"acceptEdits\" | \"bypassPermissions\" | \"default\" | \"plan\"\n  resumedSessionId?: string; // Optional: session ID to resume from\n}\n\n\nexport interface StartConversationResponse {\n  streamingId: string; // CUI's internal streaming identifier for managing streaming connections\n  streamUrl: string;\n  // System init fields from Claude CLI\n  sessionId: string; // Claude CLI's session ID\n  cwd: string; // Working directory\n  tools: string[]; // Available tools\n  mcpServers: { name: string; status: string; }[]; // MCP server list\n  model: string; // Actual model being used\n  permissionMode: string; // Permission handling mode\n  apiKeySource: string; // API key source\n}\n\nexport interface ConversationListQuery {\n  projectPath?: string;\n  limit?: number;\n  offset?: number;\n  sortBy?: 'created' | 'updated';\n  order?: 'asc' | 'desc';\n  hasContinuation?: boolean;\n  archived?: boolean;\n  pinned?: boolean;\n}\n\nexport interface ConversationDetailsResponse {\n  messages: ConversationMessage[];\n  summary: string;\n  projectPath: string;\n  metadata: {\n      totalDuration: number;\n    model: string;\n  };\n  toolMetrics?: ToolMetrics; // Optional tool usage metrics\n}\n\n\nexport interface PermissionDecisionRequest {\n  action: 'approve' | 'deny';\n  modifiedInput?: Record<string, unknown>;\n  denyReason?: string;\n}\n\nexport interface PermissionDecisionResponse {\n  success: boolean;\n  message?: string;\n}\n\nexport interface SystemStatusResponse {\n  claudeVersion: string;\n  claudePath: string;\n  configPath: string;\n  activeConversations: number;\n  machineId: string;\n}\n\n// Stream event types\nexport type StreamEvent =\n  | { type: 'connected'; streaming_id: string; timestamp: string }\n  | { type: 'permission_request'; data: PermissionRequest; streamingId: string; timestamp: string }\n  | { type: 'error'; error: string; streamingId: string; timestamp: string }\n  | { type: 'closed'; streamingId: string; timestamp: string }\n  | { type: 'session_id_update'; oldSessionId: string; newSessionId: string; streamingId: string; timestamp: string }\n  | SystemInitMessage\n  | AssistantStreamMessage\n  | UserStreamMessage\n  | ResultStreamMessage;\n\n// Error types\nexport class CUIError extends Error {\n  constructor(public code: string, message: string, public statusCode: number = 500) {\n    super(message);\n    this.name = 'CUIError';\n  }\n}\n\n// File system types\nexport interface FileSystemEntry {\n  name: string;\n  type: 'file' | 'directory';\n  size?: number;\n  lastModified: string;\n}\n\nexport interface FileSystemListQuery {\n  path: string;\n  recursive?: boolean;\n  respectGitignore?: boolean;\n}\n\nexport interface FileSystemListResponse {\n  path: string;\n  entries: FileSystemEntry[];\n  total: number;\n}\n\nexport interface FileSystemReadQuery {\n  path: string;\n}\n\nexport interface FileSystemReadResponse {\n  path: string;\n  content: string;\n  size: number;\n  lastModified: string;\n  encoding: string;\n}\n\n// Session Info Database types for lowdb\nexport interface SessionInfo {\n  custom_name: string;          // Custom name for the session, default: \"\"\n  created_at: string;           // ISO 8601 timestamp when session info was created\n  updated_at: string;           // ISO 8601 timestamp when session info was last updated\n  version: number;              // Schema version for future migrations\n  pinned: boolean;              // Whether session is pinned, default: false\n  archived: boolean;            // Whether session is archived, default: false\n  continuation_session_id: string; // ID of the continuation session if exists, default: \"\"\n  initial_commit_head: string;  // Git commit HEAD when session started, default: \"\"\n  permission_mode: string;      // Permission mode used for the session, default: \"default\"\n}\n\n\n// API types for session renaming (deprecated - use SessionUpdateRequest instead)\nexport interface SessionRenameRequest {\n  customName: string;\n}\n\nexport interface SessionRenameResponse {\n  success: boolean;\n  sessionId: string;\n  customName: string;\n}\n\n// API types for session update\nexport interface SessionUpdateRequest {\n  customName?: string;           // Optional: update custom name\n  pinned?: boolean;              // Optional: update pinned status\n  archived?: boolean;            // Optional: update archived status\n  continuationSessionId?: string; // Optional: update continuation session\n  initialCommitHead?: string;    // Optional: update initial commit head\n  permissionMode?: string;       // Optional: update permission mode\n}\n\nexport interface SessionUpdateResponse {\n  success: boolean;\n  sessionId: string;\n  updatedFields: SessionInfo;    // Returns the complete updated session info\n}\n\n// Notification types\nexport interface Notification {\n  title: string;\n  message: string;\n  priority: 'min' | 'low' | 'default' | 'high' | 'urgent';\n  tags: string[];\n  sessionId: string;\n  streamingId: string;\n  permissionRequestId?: string;\n}\n\n// Working directories API types\nexport interface WorkingDirectory {\n  path: string;              // Full absolute path (e.g., \"/home/user/projects/myapp\")\n  shortname: string;         // Smart suffix (e.g., \"myapp\" or \"projects/myapp\")\n  lastDate: string;          // ISO timestamp of most recent conversation\n  conversationCount: number; // Total conversations in this directory\n}\n\nexport interface WorkingDirectoriesResponse {\n  directories: WorkingDirectory[];\n  totalCount: number;\n}\n\n// Commands API types\nexport interface Command {\n  name: string;\n  type: 'builtin' | 'custom';\n  description?: string;\n}\n\nexport interface CommandsResponse {\n  commands: Command[];\n}\n\n\n// Gemini API types\nexport interface GeminiHealthResponse {\n  status: 'healthy' | 'unhealthy';\n  message: string;\n  apiKeyValid: boolean;\n}\n\nexport interface GeminiTranscribeRequest {\n  audio: string; // base64 encoded audio\n  mimeType: string; // audio mime type\n}\n\nexport interface GeminiTranscribeResponse {\n  text: string;\n}\n\nexport interface GeminiSummarizeRequest {\n  text: string;\n}\n\nexport interface GeminiSummarizeResponse {\n  title: string;\n  keypoints: string[];\n}\n\nexport * from './config.js';\nexport * from './router-config.js';\n",
        "timestamp": "2026-01-02T14:22:14.293924"
      },
      "worktree_state": {
        "content": "// Core types and interfaces for CUI backend\nimport Anthropic from '@anthropic-ai/sdk';\n\n// Export SDK-specific types\nexport * from './sdk-types.js';\n\n// ============= STRAPI MIGRATION TYPES =============\n// Export new domain types for Strapi migration\nexport * from './agent.types.js';\nexport * from './strapi.types.js';\nexport * from './dto.types.js';\nexport * from './sse.types.js';\nexport * from './mcp-types.js';\n\n/**\n * Tool usage metrics for conversation analysis\n *\n * Tracks code changes and file operations performed during a conversation.\n */\nexport interface ToolMetrics {\n  /** Number of lines added to files */\n  linesAdded: number;\n\n  /** Number of lines removed from files */\n  linesRemoved: number;\n\n  /** Number of edit operations performed */\n  editCount: number;\n\n  /** Number of write operations performed */\n  writeCount: number;\n}\n\n/**\n * Conversation summary with metadata and metrics\n *\n * Represents a high-level view of a Claude CLI conversation session\n * with aggregated statistics and current status.\n */\nexport interface ConversationSummary {\n  /** Claude CLI's actual session ID (used for history files) */\n  sessionId: string;\n\n  /** Absolute path to the project directory */\n  projectPath: string;\n\n  /** Brief summary of the conversation content */\n  summary: string;\n\n  /** Complete session metadata from SessionInfoService */\n  sessionInfo: SessionInfo;\n\n  /** ISO timestamp when conversation was created */\n  createdAt: string;\n\n  /** ISO timestamp when conversation was last updated */\n  updatedAt: string;\n\n  /** Total number of messages in the conversation */\n  messageCount: number;\n\n  /** Total conversation duration in milliseconds */\n  totalDuration: number;\n\n  /** Claude model used for the conversation */\n  model: string;\n\n  /** Conversation status based on active streams */\n  status: 'completed' | 'ongoing' | 'pending';\n\n  /** CUI's internal streaming ID (only present when status is 'ongoing') */\n  streamingId?: string;\n\n  /** Optional tool usage metrics */\n  toolMetrics?: ToolMetrics;\n}\n\n/**\n * Individual conversation message\n *\n * Represents a single message in a Claude CLI conversation,\n * including metadata about the message context and execution.\n */\nexport interface ConversationMessage {\n  /** Unique identifier for this message */\n  uuid: string;\n\n  /** Message type (user input, assistant response, or system message) */\n  type: 'user' | 'assistant' | 'system';\n\n  /** Anthropic message content */\n  message: Anthropic.Message | Anthropic.MessageParam;\n\n  /** ISO timestamp when message was created */\n  timestamp: string;\n\n  /** Claude CLI's actual session ID */\n  sessionId: string;\n\n  /** UUID of parent message (for threaded conversations) */\n  parentUuid?: string;\n\n  /** Whether this message is part of a sidechain conversation */\n  isSidechain?: boolean;\n\n  /** Type of user interaction (e.g., 'external') */\n  userType?: string;\n\n  /** Working directory when the message was created */\n  cwd?: string;\n\n  /** Claude CLI version used for this message */\n  version?: string;\n\n  /** Message execution duration in milliseconds */\n  durationMs?: number;\n}\n\n/**\n * Base stream message interface\n *\n * Common fields for all SSE stream messages from Claude CLI.\n */\nexport interface StreamMessage {\n  /** Stream message type */\n  type: 'system' | 'assistant' | 'user' | 'result';\n\n  /** Claude CLI's session ID (in stream messages) */\n  session_id: string;\n}\n\n/**\n * System initialization message\n *\n * Sent at the start of a conversation stream to provide\n * configuration details and available resources.\n */\nexport interface SystemInitMessage extends StreamMessage {\n  type: 'system';\n  subtype: 'init';\n\n  /** Current working directory */\n  cwd: string;\n\n  /** Available tools for this session */\n  tools: string[];\n\n  /** MCP servers and their status */\n  mcp_servers: { name: string; status: string; }[];\n\n  /** Claude model being used */\n  model: string;\n\n  /** Permission mode for the session */\n  permissionMode: string;\n\n  /** Source of the API key (e.g., 'environment', 'config') */\n  apiKeySource: string;\n}\n\n/**\n * Assistant stream message\n *\n * Contains Claude's response during a conversation stream.\n */\nexport interface AssistantStreamMessage extends StreamMessage {\n  type: 'assistant';\n\n  /** Complete Anthropic message from Claude */\n  message: Anthropic.Message;\n\n  /** Parent tool use ID if this is a tool result response */\n  parent_tool_use_id?: string;\n}\n\n/**\n * User stream message\n *\n * Contains user input during a conversation stream.\n */\nexport interface UserStreamMessage extends StreamMessage {\n  type: 'user';\n\n  /** User message content */\n  message: Anthropic.MessageParam;\n\n  /** Parent tool use ID if this is a tool result */\n  parent_tool_use_id?: string;\n}\n\n/**\n * Result stream message\n *\n * Final message in a conversation stream containing\n * execution results, metrics, and token usage.\n */\nexport interface ResultStreamMessage extends StreamMessage {\n  type: 'result';\n\n  /** Result type (success or error) */\n  subtype: 'success' | 'error_max_turns' | 'error_during_execution';\n\n  /** Whether the execution resulted in an error */\n  is_error: boolean;\n\n  /** Total execution duration in milliseconds */\n  duration_ms: number;\n\n  /** API call duration in milliseconds */\n  duration_api_ms: number;\n\n  /** Number of conversation turns */\n  num_turns: number;\n\n  /** Optional result message */\n  result?: string;\n\n  /** Token usage and API metrics */\n  usage: {\n    /** Number of input tokens */\n    input_tokens: number;\n\n    /** Input tokens used for cache creation */\n    cache_creation_input_tokens: number;\n\n    /** Input tokens read from cache */\n    cache_read_input_tokens: number;\n\n    /** Number of output tokens */\n    output_tokens: number;\n\n    /** Server-side tool usage */\n    server_tool_use: {\n      /** Number of web search requests */\n      web_search_requests: number;\n    };\n  };\n}\n\n/**\n * Permission request for tool execution\n *\n * Represents a request for user approval before executing\n * a tool during conversation execution.\n */\nexport interface PermissionRequest {\n  /** Unique request identifier */\n  id: string;\n\n  /** CUI's internal streaming identifier */\n  streamingId: string;\n\n  /** Name of the tool requesting permission */\n  toolName: string;\n\n  /** Input parameters for the tool */\n  toolInput: Record<string, unknown>;\n\n  /** ISO timestamp of the request */\n  timestamp: string;\n\n  /** Current status of the permission request */\n  status: 'pending' | 'approved' | 'denied';\n\n  /** Modified tool input (if user edited before approving) */\n  modifiedInput?: Record<string, unknown>;\n\n  /** Reason for denial (if denied) */\n  denyReason?: string;\n}\n\n/**\n * Conversation configuration\n *\n * Configuration options for starting or resuming a Claude conversation.\n */\nexport interface ConversationConfig {\n  /** Working directory for the conversation */\n  workingDirectory: string;\n\n  /** Initial user prompt to start the conversation */\n  initialPrompt: string;\n\n  /** Claude model to use (e.g., 'sonnet', 'opus') */\n  model?: string;\n\n  /** Tools that are explicitly allowed */\n  allowedTools?: string[];\n\n  /** Tools that are explicitly disallowed */\n  disallowedTools?: string[];\n\n  /** Custom system prompt for the agent */\n  systemPrompt?: string;\n\n  /** Path to Claude CLI executable */\n  claudeExecutablePath?: string;\n\n  /** Messages from previous session for resume context */\n  previousMessages?: ConversationMessage[];\n\n  /** Permission mode: \"acceptEdits\" | \"bypassPermissions\" | \"default\" | \"plan\" */\n  permissionMode?: string;\n\n  /** Skills array from Strapi (will be synced to filesystem) */\n  skills?: any[];\n\n  /** Extended thinking budget in tokens (default: 10000) */\n  maxThinkingTokens?: number;\n}\n\n/**\n * Start conversation request\n *\n * Request body for initiating a new conversation with Claude CLI.\n */\nexport interface StartConversationRequest {\n  /** Working directory for the conversation */\n  workingDirectory: string;\n\n  /** Initial user prompt */\n  initialPrompt: string;\n\n  /** Claude model to use */\n  model?: string;\n\n  /** Tools that are explicitly allowed */\n  allowedTools?: string[];\n\n  /** Tools that are explicitly disallowed */\n  disallowedTools?: string[];\n\n  /** Custom system prompt */\n  systemPrompt?: string;\n\n  /** Permission mode: \"acceptEdits\" | \"bypassPermissions\" | \"default\" | \"plan\" */\n  permissionMode?: string;\n\n  /** Optional: session ID to resume from */\n  resumedSessionId?: string;\n}\n\n/**\n * Start conversation response\n *\n * Response containing stream connection details and\n * system initialization information.\n */\nexport interface StartConversationResponse {\n  /** CUI's internal streaming identifier for managing streaming connections */\n  streamingId: string;\n\n  /** SSE stream URL for receiving conversation events */\n  streamUrl: string;\n\n  /** Claude CLI's session ID */\n  sessionId: string;\n\n  /** Current working directory */\n  cwd: string;\n\n  /** Available tools */\n  tools: string[];\n\n  /** MCP server list with status */\n  mcpServers: { name: string; status: string; }[];\n\n  /** Actual model being used */\n  model: string;\n\n  /** Permission handling mode */\n  permissionMode: string;\n\n  /** API key source */\n  apiKeySource: string;\n}\n\n/**\n * Conversation list query parameters\n *\n * Filter and pagination options for retrieving conversation lists.\n */\nexport interface ConversationListQuery {\n  /** Filter by project path */\n  projectPath?: string;\n\n  /** Maximum number of results */\n  limit?: number;\n\n  /** Number of results to skip */\n  offset?: number;\n\n  /** Field to sort by */\n  sortBy?: 'created' | 'updated';\n\n  /** Sort order */\n  order?: 'asc' | 'desc';\n\n  /** Filter by continuation status */\n  hasContinuation?: boolean;\n\n  /** Filter by archived status */\n  archived?: boolean;\n\n  /** Filter by pinned status */\n  pinned?: boolean;\n}\n\n/**\n * Conversation details response\n *\n * Complete conversation data including messages and metadata.\n */\nexport interface ConversationDetailsResponse {\n  /** All messages in the conversation */\n  messages: ConversationMessage[];\n\n  /** Conversation summary */\n  summary: string;\n\n  /** Project directory path */\n  projectPath: string;\n\n  /** Conversation metadata */\n  metadata: {\n    /** Total conversation duration in milliseconds */\n    totalDuration: number;\n\n    /** Claude model used */\n    model: string;\n  };\n\n  /** Optional tool usage metrics */\n  toolMetrics?: ToolMetrics;\n}\n\n/**\n * Permission decision request\n *\n * User's decision on a permission request for tool execution.\n */\nexport interface PermissionDecisionRequest {\n  /** User action (approve or deny) */\n  action: 'approve' | 'deny';\n\n  /** Modified tool input (if user edited before approving) */\n  modifiedInput?: Record<string, unknown>;\n\n  /** Reason for denial (if denied) */\n  denyReason?: string;\n}\n\n/**\n * Permission decision response\n *\n * Confirmation of permission decision processing.\n */\nexport interface PermissionDecisionResponse {\n  /** Whether the decision was processed successfully */\n  success: boolean;\n\n  /** Optional message (e.g., error details) */\n  message?: string;\n}\n\n/**\n * System status response\n *\n * Current system information and configuration.\n */\nexport interface SystemStatusResponse {\n  /** Claude CLI version */\n  claudeVersion: string;\n\n  /** Path to Claude CLI executable */\n  claudePath: string;\n\n  /** Path to Claude CLI config directory */\n  configPath: string;\n\n  /** Number of currently active conversations */\n  activeConversations: number;\n\n  /** Unique machine identifier */\n  machineId: string;\n}\n\n/**\n * Stream event union type\n *\n * All possible event types that can be received from a conversation stream.\n */\nexport type StreamEvent =\n  /** Stream connection established */\n  | { type: 'connected'; streaming_id: string; timestamp: string }\n  /** Permission request for tool execution */\n  | { type: 'permission_request'; data: PermissionRequest; streamingId: string; timestamp: string }\n  /** Error occurred during streaming */\n  | { type: 'error'; error: string; streamingId: string; timestamp: string }\n  /** Stream connection closed */\n  | { type: 'closed'; streamingId: string; timestamp: string }\n  /** Session ID was updated (e.g., after resume) */\n  | { type: 'session_id_update'; oldSessionId: string; newSessionId: string; streamingId: string; timestamp: string }\n  /** System initialization message */\n  | SystemInitMessage\n  /** Assistant response message */\n  | AssistantStreamMessage\n  /** User input message */\n  | UserStreamMessage\n  /** Final result message */\n  | ResultStreamMessage;\n\n/**\n * Claude UI custom error class\n *\n * Enhanced error with error code and HTTP status code.\n */\nexport class CUIError extends Error {\n  /**\n   * Create a new CUIError\n   *\n   * @param code - Error code (e.g., 'CONVERSATION_NOT_FOUND')\n   * @param message - Human-readable error message\n   * @param statusCode - HTTP status code (default: 500)\n   */\n  constructor(public code: string, message: string, public statusCode: number = 500) {\n    super(message);\n    this.name = 'CUIError';\n  }\n}\n\n/**\n * File system entry metadata\n *\n * Represents a file or directory in the file system.\n */\nexport interface FileSystemEntry {\n  /** Entry name (file or directory name) */\n  name: string;\n\n  /** Entry type */\n  type: 'file' | 'directory';\n\n  /** File size in bytes (for files only) */\n  size?: number;\n\n  /** ISO timestamp of last modification */\n  lastModified: string;\n}\n\n/**\n * File system list query parameters\n *\n * Options for listing directory contents.\n */\nexport interface FileSystemListQuery {\n  /** Directory path to list */\n  path: string;\n\n  /** Whether to list subdirectories recursively */\n  recursive?: boolean;\n\n  /** Whether to respect .gitignore rules */\n  respectGitignore?: boolean;\n}\n\n/**\n * File system list response\n *\n * Directory listing results.\n */\nexport interface FileSystemListResponse {\n  /** Directory path that was listed */\n  path: string;\n\n  /** Array of file system entries */\n  entries: FileSystemEntry[];\n\n  /** Total number of entries */\n  total: number;\n}\n\n/**\n * File system read query parameters\n *\n * Options for reading file contents.\n */\nexport interface FileSystemReadQuery {\n  /** File path to read */\n  path: string;\n}\n\n/**\n * File system read response\n *\n * File contents and metadata.\n */\nexport interface FileSystemReadResponse {\n  /** File path that was read */\n  path: string;\n\n  /** File contents */\n  content: string;\n\n  /** File size in bytes */\n  size: number;\n\n  /** ISO timestamp of last modification */\n  lastModified: string;\n\n  /** File encoding (e.g., 'utf-8') */\n  encoding: string;\n}\n\n/**\n * Session information stored in lowdb database\n *\n * Persistent metadata for Claude CLI conversation sessions.\n */\nexport interface SessionInfo {\n  /** Custom name for the session, default: \"\" */\n  custom_name: string;\n\n  /** ISO 8601 timestamp when session info was created */\n  created_at: string;\n\n  /** ISO 8601 timestamp when session info was last updated */\n  updated_at: string;\n\n  /** Schema version for future migrations */\n  version: number;\n\n  /** Whether session is pinned, default: false */\n  pinned: boolean;\n\n  /** Whether session is archived, default: false */\n  archived: boolean;\n\n  /** ID of the continuation session if exists, default: \"\" */\n  continuation_session_id: string;\n\n  /** Git commit HEAD when session started, default: \"\" */\n  initial_commit_head: string;\n\n  /** Permission mode used for the session, default: \"default\" */\n  permission_mode: string;\n}\n\n/**\n * Session rename request (deprecated)\n *\n * @deprecated Use SessionUpdateRequest instead\n */\nexport interface SessionRenameRequest {\n  /** New custom name for the session */\n  customName: string;\n}\n\n/**\n * Session rename response (deprecated)\n *\n * @deprecated Use SessionUpdateResponse instead\n */\nexport interface SessionRenameResponse {\n  /** Whether the rename was successful */\n  success: boolean;\n\n  /** Session ID that was renamed */\n  sessionId: string;\n\n  /** New custom name */\n  customName: string;\n}\n\n/**\n * Session update request\n *\n * Request body for updating session metadata.\n * All fields are optional - only provided fields will be updated.\n */\nexport interface SessionUpdateRequest {\n  /** Optional: update custom name */\n  customName?: string;\n\n  /** Optional: update pinned status */\n  pinned?: boolean;\n\n  /** Optional: update archived status */\n  archived?: boolean;\n\n  /** Optional: update continuation session */\n  continuationSessionId?: string;\n\n  /** Optional: update initial commit head */\n  initialCommitHead?: string;\n\n  /** Optional: update permission mode */\n  permissionMode?: string;\n}\n\n/**\n * Session update response\n *\n * Confirmation of session update with complete updated session info.\n */\nexport interface SessionUpdateResponse {\n  /** Whether the update was successful */\n  success: boolean;\n\n  /** Session ID that was updated */\n  sessionId: string;\n\n  /** Returns the complete updated session info */\n  updatedFields: SessionInfo;\n}\n\n/**\n * Notification configuration\n *\n * Defines a notification to be sent to the user.\n */\nexport interface Notification {\n  /** Notification title */\n  title: string;\n\n  /** Notification message content */\n  message: string;\n\n  /** Notification priority level */\n  priority: 'min' | 'low' | 'default' | 'high' | 'urgent';\n\n  /** Tags for categorizing notifications */\n  tags: string[];\n\n  /** Associated session ID */\n  sessionId: string;\n\n  /** Associated streaming ID */\n  streamingId: string;\n\n  /** Associated permission request ID (if applicable) */\n  permissionRequestId?: string;\n}\n\n/**\n * Working directory metadata\n *\n * Information about a directory where conversations have been conducted.\n */\nexport interface WorkingDirectory {\n  /** Full absolute path (e.g., \"/home/user/projects/myapp\") */\n  path: string;\n\n  /** Smart suffix (e.g., \"myapp\" or \"projects/myapp\") */\n  shortname: string;\n\n  /** ISO timestamp of most recent conversation */\n  lastDate: string;\n\n  /** Total conversations in this directory */\n  conversationCount: number;\n}\n\n/**\n * Working directories list response\n *\n * List of all directories with conversation history.\n */\nexport interface WorkingDirectoriesResponse {\n  /** Array of working directories */\n  directories: WorkingDirectory[];\n\n  /** Total number of directories */\n  totalCount: number;\n}\n\n/**\n * Command metadata\n *\n * Information about a Claude CLI command.\n */\nexport interface Command {\n  /** Command name (without leading slash) */\n  name: string;\n\n  /** Command type (builtin or custom) */\n  type: 'builtin' | 'custom';\n\n  /** Optional command description */\n  description?: string;\n}\n\n/**\n * Commands list response\n *\n * List of available Claude CLI commands.\n */\nexport interface CommandsResponse {\n  /** Array of available commands */\n  commands: Command[];\n}\n\n/**\n * Gemini API health check response\n *\n * Status information for the Gemini API integration.\n */\nexport interface GeminiHealthResponse {\n  /** Health status */\n  status: 'healthy' | 'unhealthy';\n\n  /** Status message */\n  message: string;\n\n  /** Whether the API key is valid */\n  apiKeyValid: boolean;\n}\n\n/**\n * Gemini transcribe request\n *\n * Request body for audio transcription.\n */\nexport interface GeminiTranscribeRequest {\n  /** Base64 encoded audio data */\n  audio: string;\n\n  /** Audio MIME type (e.g., 'audio/wav', 'audio/mp3') */\n  mimeType: string;\n}\n\n/**\n * Gemini transcribe response\n *\n * Transcribed text from audio input.\n */\nexport interface GeminiTranscribeResponse {\n  /** Transcribed text */\n  text: string;\n}\n\n/**\n * Gemini summarize request\n *\n * Request body for text summarization.\n */\nexport interface GeminiSummarizeRequest {\n  /** Text to summarize */\n  text: string;\n}\n\n/**\n * Gemini summarize response\n *\n * Summary with title and key points.\n */\nexport interface GeminiSummarizeResponse {\n  /** Generated title for the content */\n  title: string;\n\n  /** Array of key points extracted from the text */\n  keypoints: string[];\n}\n\nexport * from './config.js';\nexport * from './router-config.js';\n",
        "last_modified": "2026-01-02T14:22:15.544507"
      },
      "task_intent": {
        "title": "Document Frontend React Components and Hooks",
        "description": "Add comprehensive JSDoc documentation to all React components and custom hooks in the frontend, including prop types, usage examples, component purposes, state management, and side effects.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-02T14:01:10.685997",
  "last_updated": "2026-01-02T14:22:14.463348"
}