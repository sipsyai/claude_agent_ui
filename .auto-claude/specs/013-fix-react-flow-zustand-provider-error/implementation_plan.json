{
  "feature": "fix-react-flow-zustand-provider-error",
  "spec_name": "fix-react-flow-zustand-provider-error",
  "workflow_type": "simple",
  "total_phases": 1,
  "recommended_workers": 1,
  "phases": [
    {
      "phase": 1,
      "name": "Fix Provider Hierarchy",
      "description": "Add ReactFlowProvider wrapper to fix useReactFlow hook error",
      "depends_on": [],
      "subtasks": [
        {
          "id": "subtask-1-1",
          "description": "Import ReactFlowProvider and wrap FlowCanvas and CanvasToolbar components",
          "service": "main",
          "status": "completed",
          "files_to_create": [],
          "files_to_modify": [
            "src/web/manager/components/FlowEditorVisual.tsx"
          ],
          "patterns_from": [],
          "verification": {
            "type": "manual",
            "run": "Check that no zustand provider errors appear in console and toolbar zoom controls work"
          },
          "notes": "Successfully imported ReactFlowProvider from @xyflow/react and wrapped FlowCanvas, CanvasToolbar, FloatingNodePalette, and FlowPreview components. This provides the necessary React Flow context for all child components that use React Flow hooks.",
          "updated_at": "2026-01-02T21:21:47.980659+00:00"
        }
      ]
    }
  ],
  "metadata": {
    "created_at": "2026-01-03T10:30:00Z",
    "complexity": "simple",
    "estimated_sessions": 1
  },
  "last_updated": "2026-01-02T21:21:47.980670+00:00",
  "qa_signoff": {
    "status": "approved",
    "timestamp": "2026-01-03T00:30:00Z",
    "qa_session": 1,
    "report_file": "qa_report.md",
    "verified_by": "qa_agent",
    "verification_summary": {
      "code_review": "passed",
      "typescript_compilation": "passed",
      "security_review": "passed",
      "provider_hierarchy": "correct",
      "component_coverage": "all_wrapped",
      "pattern_compliance": "passed",
      "regression_risk": "very_low"
    },
    "components_verified": [
      "FlowCanvas - useReactFlow (screenToFlowPosition)",
      "CanvasToolbar - useReactFlow (zoomIn, zoomOut, zoomTo, fitView)",
      "CustomEdge - useReactFlow (setEdges)"
    ],
    "manual_verification_recommended": [
      "Browser console check - verify no zustand provider errors",
      "Toolbar zoom controls - verify interactive functionality",
      "Canvas interaction - verify drag and drop works"
    ]
  },
  "qa_iteration_history": [
    {
      "iteration": 1,
      "status": "approved",
      "timestamp": "2026-01-02T21:28:24.952081+00:00",
      "issues": [],
      "duration_seconds": 381.95
    }
  ],
  "qa_stats": {
    "total_iterations": 1,
    "last_iteration": 1,
    "last_status": "approved",
    "issues_by_type": {}
  },
  "status": "done",
  "planStatus": "completed",
  "updated_at": "2026-01-02T21:29:43.099Z"
}