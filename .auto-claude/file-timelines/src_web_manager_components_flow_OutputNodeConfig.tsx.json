{
  "file_path": "src/web/manager/components/flow/OutputNodeConfig.tsx",
  "main_branch_history": [],
  "task_views": {
    "007-uygulaman-n-genel-yap-s-n-d-zenleyece-iz-yani-uygu": {
      "task_id": "007-uygulaman-n-genel-yap-s-n-d-zenleyece-iz-yani-uygu",
      "branch_point": {
        "commit_hash": "9355e1f79162ecd7611ae3213457e87085b7fe4d",
        "content": "",
        "timestamp": "2026-01-02T15:21:46.864601"
      },
      "worktree_state": {
        "content": "import React from 'react';\nimport type { OutputNode, FlowOutputType, FlowOutputFormat } from '../../types';\nimport { Input } from '../ui/Input';\nimport { Select } from '../ui/Select';\nimport { Textarea } from '../ui/Textarea';\nimport { KeyValueEditor } from '../ui/KeyValueEditor';\n\n// Output type options\nconst OUTPUT_TYPE_OPTIONS: { value: FlowOutputType; label: string; description: string }[] = [\n  { value: 'response', label: 'Direct Response', description: 'Return result directly' },\n  { value: 'file', label: 'Save to File', description: 'Save output to a file' },\n  { value: 'database', label: 'Save to Database', description: 'Store in database' },\n  { value: 'webhook', label: 'Send to Webhook', description: 'POST to external URL' },\n  { value: 'email', label: 'Send Email', description: 'Send via email' },\n];\n\n// Output format options\nconst OUTPUT_FORMAT_OPTIONS: { value: FlowOutputFormat; label: string }[] = [\n  { value: 'json', label: 'JSON' },\n  { value: 'markdown', label: 'Markdown' },\n  { value: 'text', label: 'Plain Text' },\n  { value: 'html', label: 'HTML' },\n  { value: 'csv', label: 'CSV' },\n  { value: 'zip', label: 'ZIP Archive' },\n];\n\nexport interface OutputNodeConfigProps {\n  node: OutputNode;\n  onChange: (updates: Partial<OutputNode>) => void;\n  className?: string;\n}\n\n/**\n * Configuration panel for Output nodes in the flow editor.\n * Allows users to configure how flow results are formatted and delivered.\n */\nconst OutputNodeConfig: React.FC<OutputNodeConfigProps> = ({\n  node,\n  onChange,\n  className = '',\n}) => {\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Node Name & Description */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Node Name</label>\n          <Input\n            value={node.name}\n            onChange={(e) => onChange({ name: e.target.value })}\n            placeholder=\"Output\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Description</label>\n          <Input\n            value={node.description || ''}\n            onChange={(e) => onChange({ description: e.target.value })}\n            placeholder=\"Output configuration\"\n          />\n        </div>\n      </div>\n\n      {/* Output Type and Format */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Output Type</label>\n          <Select\n            value={node.outputType}\n            onChange={(e) =>\n              onChange({ outputType: e.target.value as FlowOutputType })\n            }\n          >\n            {OUTPUT_TYPE_OPTIONS.map((opt) => (\n              <option key={opt.value} value={opt.value}>\n                {opt.label}\n              </option>\n            ))}\n          </Select>\n          <p className=\"text-xs text-muted-foreground mt-1\">\n            {OUTPUT_TYPE_OPTIONS.find((o) => o.value === node.outputType)?.description}\n          </p>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Format</label>\n          <Select\n            value={node.format}\n            onChange={(e) =>\n              onChange({ format: e.target.value as FlowOutputFormat })\n            }\n          >\n            {OUTPUT_FORMAT_OPTIONS.map((opt) => (\n              <option key={opt.value} value={opt.value}>\n                {opt.label}\n              </option>\n            ))}\n          </Select>\n        </div>\n      </div>\n\n      {/* File Options (if outputType is 'file') */}\n      {node.outputType === 'file' && (\n        <FileOutputSettings\n          filePath={node.filePath}\n          fileName={node.fileName}\n          saveToFile={node.saveToFile}\n          onChange={onChange}\n        />\n      )}\n\n      {/* Webhook Options (if outputType is 'webhook') */}\n      {node.outputType === 'webhook' && (\n        <WebhookOutputSettings\n          webhookUrl={node.webhookUrl}\n          webhookHeaders={node.webhookHeaders}\n          onChange={onChange}\n        />\n      )}\n\n      {/* Additional Options */}\n      <div className=\"flex gap-6\">\n        <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={node.includeMetadata}\n            onChange={(e) => onChange({ includeMetadata: e.target.checked })}\n            className=\"w-4 h-4 rounded\"\n          />\n          Include Metadata\n        </label>\n        <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={node.includeTimestamp}\n            onChange={(e) => onChange({ includeTimestamp: e.target.checked })}\n            className=\"w-4 h-4 rounded\"\n          />\n          Include Timestamp\n        </label>\n        <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={node.saveToFile}\n            onChange={(e) => onChange({ saveToFile: e.target.checked })}\n            className=\"w-4 h-4 rounded\"\n          />\n          Save to File\n        </label>\n      </div>\n\n      {/* Transform Template */}\n      <div>\n        <label className=\"block text-sm font-medium mb-1\">\n          Transform Template (Optional)\n          <span className=\"text-muted-foreground font-normal ml-1\">\n            - Use &#123;&#123;result&#125;&#125; for agent output\n          </span>\n        </label>\n        <Textarea\n          value={node.transformTemplate || ''}\n          onChange={(e) => onChange({ transformTemplate: e.target.value })}\n          placeholder=\"Leave empty for raw output, or use template:&#10;&#10;# Results&#10;{{result}}&#10;&#10;## Summary&#10;{{result.summary}}\"\n          className=\"min-h-[100px] font-mono text-sm\"\n        />\n      </div>\n    </div>\n  );\n};\n\n/**\n * File output settings sub-component\n */\ninterface FileOutputSettingsProps {\n  filePath?: string;\n  fileName?: string;\n  saveToFile: boolean;\n  onChange: (updates: Partial<OutputNode>) => void;\n}\n\nconst FileOutputSettings: React.FC<FileOutputSettingsProps> = ({\n  filePath,\n  fileName,\n  saveToFile,\n  onChange,\n}) => {\n  return (\n    <div className=\"p-4 bg-secondary/30 rounded-lg space-y-3\">\n      <h5 className=\"font-medium text-sm flex items-center gap-2\">\n        File Settings\n      </h5>\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">File Path</label>\n          <Input\n            value={filePath || ''}\n            onChange={(e) => onChange({ filePath: e.target.value })}\n            placeholder=\"/path/to/output\"\n          />\n          <p className=\"text-xs text-muted-foreground mt-1\">\n            Directory where the file will be saved\n          </p>\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">File Name</label>\n          <Input\n            value={fileName || ''}\n            onChange={(e) => onChange({ fileName: e.target.value })}\n            placeholder=\"output.md\"\n          />\n          <p className=\"text-xs text-muted-foreground mt-1\">\n            Use &#123;&#123;timestamp&#125;&#125; for unique names\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Webhook output settings sub-component\n */\ninterface WebhookOutputSettingsProps {\n  webhookUrl?: string;\n  webhookHeaders?: Record<string, string>;\n  onChange: (updates: Partial<OutputNode>) => void;\n}\n\nconst WebhookOutputSettings: React.FC<WebhookOutputSettingsProps> = ({\n  webhookUrl,\n  webhookHeaders,\n  onChange,\n}) => {\n  return (\n    <div className=\"p-4 bg-secondary/30 rounded-lg space-y-3\">\n      <h5 className=\"font-medium text-sm flex items-center gap-2\">\n        Webhook Settings\n      </h5>\n      <div>\n        <label className=\"block text-xs font-medium mb-1\">Webhook URL</label>\n        <Input\n          value={webhookUrl || ''}\n          onChange={(e) => onChange({ webhookUrl: e.target.value })}\n          placeholder=\"https://example.com/webhook\"\n        />\n        <p className=\"text-xs text-muted-foreground mt-1\">\n          The URL to POST the flow output to\n        </p>\n      </div>\n      <div>\n        <label className=\"block text-xs font-medium mb-1\">\n          Custom Headers (Optional)\n        </label>\n        <KeyValueEditor\n          value={webhookHeaders || {}}\n          onChange={(headers) => onChange({ webhookHeaders: headers })}\n          keyPlaceholder=\"Header-Name\"\n          valuePlaceholder=\"Header Value\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default OutputNodeConfig;\n",
        "last_modified": "2026-01-02T17:55:06.533208"
      },
      "task_intent": {
        "title": "007-uygulaman-n-genel-yap-s-n-d-zenleyece-iz-yani-uygu",
        "description": "Implement a workflow/flow system for organizing agents and skills into reusable, schedulable processes with input/output handling. This transforms the application from a simple agent manager to a process automation tool where users can define workflows like 'Web Scraper' that take input, run agents with skills, and produce structured outputs.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-02T15:21:47.286749",
  "last_updated": "2026-01-02T15:21:47.297185"
}