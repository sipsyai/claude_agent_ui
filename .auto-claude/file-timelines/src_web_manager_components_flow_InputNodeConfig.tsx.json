{
  "file_path": "src/web/manager/components/flow/InputNodeConfig.tsx",
  "main_branch_history": [],
  "task_views": {
    "007-uygulaman-n-genel-yap-s-n-d-zenleyece-iz-yani-uygu": {
      "task_id": "007-uygulaman-n-genel-yap-s-n-d-zenleyece-iz-yani-uygu",
      "branch_point": {
        "commit_hash": "9355e1f79162ecd7611ae3213457e87085b7fe4d",
        "content": "",
        "timestamp": "2026-01-02T15:21:46.864601"
      },
      "worktree_state": {
        "content": "import React from 'react';\nimport type { InputNode, FlowInputField, InputFieldType } from '../../types';\nimport { Button } from '../ui/Button';\nimport { Input } from '../ui/Input';\nimport { Select } from '../ui/Select';\nimport { Textarea } from '../ui/Textarea';\nimport { PlusIcon, TrashIcon } from '../ui/Icons';\n\n// Input field type options\nconst INPUT_FIELD_TYPES: { value: InputFieldType; label: string }[] = [\n  { value: 'text', label: 'Text' },\n  { value: 'textarea', label: 'Text Area' },\n  { value: 'number', label: 'Number' },\n  { value: 'url', label: 'URL' },\n  { value: 'email', label: 'Email' },\n  { value: 'file', label: 'File' },\n  { value: 'select', label: 'Select' },\n  { value: 'multiselect', label: 'Multi-Select' },\n  { value: 'checkbox', label: 'Checkbox' },\n  { value: 'date', label: 'Date' },\n  { value: 'datetime', label: 'Date & Time' },\n];\n\nexport interface InputNodeConfigProps {\n  node: InputNode;\n  onChange: (updates: Partial<InputNode>) => void;\n  className?: string;\n}\n\n/**\n * Configuration panel for Input nodes in the flow editor.\n * Allows users to define input fields with name, label, type, validation, etc.\n */\nconst InputNodeConfig: React.FC<InputNodeConfigProps> = ({\n  node,\n  onChange,\n  className = '',\n}) => {\n  // Add a new input field\n  const addInputField = () => {\n    const newField: FlowInputField = {\n      name: `field_${node.inputFields.length + 1}`,\n      type: 'text',\n      label: `Field ${node.inputFields.length + 1}`,\n      required: false,\n    };\n    onChange({\n      inputFields: [...node.inputFields, newField],\n    });\n  };\n\n  // Update an input field\n  const updateInputField = (index: number, updates: Partial<FlowInputField>) => {\n    onChange({\n      inputFields: node.inputFields.map((field, i) =>\n        i === index ? { ...field, ...updates } : field\n      ),\n    });\n  };\n\n  // Remove an input field\n  const removeInputField = (index: number) => {\n    onChange({\n      inputFields: node.inputFields.filter((_, i) => i !== index),\n    });\n  };\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      {/* Node Name & Description */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Node Name</label>\n          <Input\n            value={node.name}\n            onChange={(e) => onChange({ name: e.target.value })}\n            placeholder=\"Input\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Description</label>\n          <Input\n            value={node.description || ''}\n            onChange={(e) => onChange({ description: e.target.value })}\n            placeholder=\"Input configuration\"\n          />\n        </div>\n      </div>\n\n      {/* Input Fields Section */}\n      <div>\n        <div className=\"flex items-center justify-between mb-2\">\n          <label className=\"block text-sm font-medium\">Input Fields</label>\n          <Button\n            type=\"button\"\n            variant=\"secondary\"\n            size=\"sm\"\n            onClick={addInputField}\n            className=\"flex items-center gap-1\"\n          >\n            <PlusIcon className=\"h-4 w-4\" />\n            Add Field\n          </Button>\n        </div>\n\n        {node.inputFields.length === 0 ? (\n          <div className=\"text-center py-8 bg-secondary/30 rounded-lg text-muted-foreground\">\n            No input fields defined. Click \"Add Field\" to create one.\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {node.inputFields.map((field, index) => (\n              <InputFieldEditor\n                key={index}\n                field={field}\n                index={index}\n                onChange={(updates) => updateInputField(index, updates)}\n                onRemove={() => removeInputField(index)}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Validation Rules (advanced) */}\n      <div>\n        <label className=\"block text-sm font-medium mb-1\">\n          Custom Validation Rules (JSON)\n          <span className=\"text-muted-foreground font-normal ml-1\">- Optional</span>\n        </label>\n        <Textarea\n          value={node.validationRules ? JSON.stringify(node.validationRules, null, 2) : ''}\n          onChange={(e) => {\n            try {\n              const rules = e.target.value ? JSON.parse(e.target.value) : {};\n              onChange({ validationRules: rules });\n            } catch {\n              // Invalid JSON, ignore\n            }\n          }}\n          placeholder='{\"fieldName\": {\"minLength\": 3}}'\n          className=\"min-h-[60px] font-mono text-sm\"\n        />\n      </div>\n    </div>\n  );\n};\n\n/**\n * Individual input field editor component\n */\ninterface InputFieldEditorProps {\n  field: FlowInputField;\n  index: number;\n  onChange: (updates: Partial<FlowInputField>) => void;\n  onRemove: () => void;\n}\n\nconst InputFieldEditor: React.FC<InputFieldEditorProps> = ({\n  field,\n  index,\n  onChange,\n  onRemove,\n}) => {\n  // Check if field type supports options\n  const supportsOptions = field.type === 'select' || field.type === 'multiselect';\n\n  // Check if field type supports min/max\n  const supportsMinMax = field.type === 'number' || field.type === 'text' || field.type === 'textarea';\n\n  return (\n    <div className=\"p-4 bg-secondary/30 rounded-lg space-y-3\">\n      {/* Row 1: Name, Label, Type */}\n      <div className=\"grid grid-cols-3 gap-3\">\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Name (key)</label>\n          <Input\n            value={field.name}\n            onChange={(e) => onChange({ name: e.target.value })}\n            placeholder=\"field_name\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Label</label>\n          <Input\n            value={field.label}\n            onChange={(e) => onChange({ label: e.target.value })}\n            placeholder=\"Field Label\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Type</label>\n          <Select\n            value={field.type}\n            onChange={(e) => onChange({ type: e.target.value as InputFieldType })}\n          >\n            {INPUT_FIELD_TYPES.map((t) => (\n              <option key={t.value} value={t.value}>\n                {t.label}\n              </option>\n            ))}\n          </Select>\n        </div>\n      </div>\n\n      {/* Row 2: Placeholder, Description */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Placeholder</label>\n          <Input\n            value={field.placeholder || ''}\n            onChange={(e) => onChange({ placeholder: e.target.value })}\n            placeholder=\"Enter placeholder text...\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Description</label>\n          <Input\n            value={field.description || ''}\n            onChange={(e) => onChange({ description: e.target.value })}\n            placeholder=\"Help text for this field\"\n          />\n        </div>\n      </div>\n\n      {/* Row 3: Default Value, Pattern (for validation) */}\n      <div className=\"grid grid-cols-2 gap-3\">\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Default Value</label>\n          <Input\n            value={field.defaultValue?.toString() || ''}\n            onChange={(e) => onChange({ defaultValue: e.target.value })}\n            placeholder=\"Default value\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">Pattern (Regex)</label>\n          <Input\n            value={field.pattern || ''}\n            onChange={(e) => onChange({ pattern: e.target.value })}\n            placeholder=\"^[a-zA-Z]+$\"\n          />\n        </div>\n      </div>\n\n      {/* Min/Max for number and text types */}\n      {supportsMinMax && (\n        <div className=\"grid grid-cols-2 gap-3\">\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">\n              {field.type === 'number' ? 'Min Value' : 'Min Length'}\n            </label>\n            <Input\n              type=\"number\"\n              value={field.min ?? ''}\n              onChange={(e) => onChange({ min: e.target.value ? parseInt(e.target.value) : undefined })}\n              placeholder=\"0\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-xs font-medium mb-1\">\n              {field.type === 'number' ? 'Max Value' : 'Max Length'}\n            </label>\n            <Input\n              type=\"number\"\n              value={field.max ?? ''}\n              onChange={(e) => onChange({ max: e.target.value ? parseInt(e.target.value) : undefined })}\n              placeholder=\"100\"\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Options for select/multiselect */}\n      {supportsOptions && (\n        <div>\n          <label className=\"block text-xs font-medium mb-1\">\n            Options (one per line)\n          </label>\n          <Textarea\n            value={(field.options || []).join('\\n')}\n            onChange={(e) => onChange({ options: e.target.value.split('\\n').filter(Boolean) })}\n            placeholder=\"Option 1&#10;Option 2&#10;Option 3\"\n            className=\"min-h-[60px]\"\n          />\n        </div>\n      )}\n\n      {/* Row 4: Required checkbox and Remove button */}\n      <div className=\"flex items-center justify-between pt-2 border-t border-border/50\">\n        <label className=\"flex items-center gap-2 text-sm cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={field.required}\n            onChange={(e) => onChange({ required: e.target.checked })}\n            className=\"w-4 h-4 rounded\"\n          />\n          Required field\n        </label>\n        <Button\n          type=\"button\"\n          variant=\"destructive\"\n          size=\"sm\"\n          onClick={onRemove}\n          className=\"flex items-center gap-1\"\n        >\n          <TrashIcon className=\"h-4 w-4\" />\n          Remove\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default InputNodeConfig;\n",
        "last_modified": "2026-01-02T17:55:06.532391"
      },
      "task_intent": {
        "title": "007-uygulaman-n-genel-yap-s-n-d-zenleyece-iz-yani-uygu",
        "description": "Implement a workflow/flow system for organizing agents and skills into reusable, schedulable processes with input/output handling. This transforms the application from a simple agent manager to a process automation tool where users can define workflows like 'Web Scraper' that take input, run agents with skills, and produce structured outputs.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-02T15:21:47.180760",
  "last_updated": "2026-01-02T15:21:47.193899"
}