{
  "file_path": "src/web/manager/components/layout/Layout.tsx",
  "main_branch_history": [],
  "task_views": {
    "004-document-frontend-react-components-and-hooks": {
      "task_id": "004-document-frontend-react-components-and-hooks",
      "branch_point": {
        "commit_hash": "34a3f60da53773d90bd6579cb1cfd8417a1dd0b9",
        "content": "\nimport React from 'react';\nimport Sidebar, { SidebarProps } from './Sidebar';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n  sidebarProps: SidebarProps;\n  noContainer?: boolean;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children, sidebarProps, noContainer = false }) => {\n  return (\n    <div className=\"flex h-screen bg-background text-foreground overflow-hidden\">\n      <Sidebar {...sidebarProps} />\n      <main className=\"flex-1 flex flex-col overflow-hidden\">\n        {noContainer ? (\n          children\n        ) : (\n          <div className=\"container mx-auto px-4 py-8 sm:px-6 lg:px-8 overflow-y-auto flex-1\">\n            {children}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default Layout;\n",
        "timestamp": "2026-01-02T14:22:14.293924"
      },
      "worktree_state": {
        "content": "/**\n * Layout Component\n *\n * The main application layout component that provides a consistent structure with a sidebar\n * navigation and main content area. This component serves as the primary layout wrapper for\n * all manager UI pages, ensuring a cohesive user experience with fixed navigation and\n * scrollable content.\n *\n * ## Features\n * - Fixed sidebar navigation on the left side (64-width, 256px)\n * - Flexible main content area that fills remaining horizontal space\n * - Full-height layout (100vh) with proper overflow handling\n * - Optional container wrapper for content with responsive padding\n * - Theme-aware background and text colors\n * - Sidebar integration with navigation state management\n * - Responsive padding that adapts to screen sizes (sm, lg breakpoints)\n *\n * ## Layout Structure\n * The component uses a horizontal flexbox layout:\n * ```\n * Layout (flex container, full height)\n *   \u251c\u2500\u2500 Sidebar (fixed width: 256px)\n *   \u2514\u2500\u2500 Main (flex-1, fills remaining space)\n *         \u2514\u2500\u2500 Container (optional, responsive padding)\n *               \u2514\u2500\u2500 Children (page content)\n * ```\n *\n * ## Children Rendering\n * The component renders children in one of two modes:\n *\n * **Container Mode (default)**: Children are wrapped in a responsive container with:\n * - Auto horizontal margins for centering\n * - Responsive padding: px-4 (mobile), px-6 (sm+), px-8 (lg+)\n * - Vertical padding: py-8 (32px)\n * - Vertical scrolling with overflow-y-auto\n * - Flex-1 to fill available vertical space\n *\n * **No Container Mode (noContainer=true)**: Children are rendered directly without wrapper:\n * - Useful for full-width content (dashboards, flow designers)\n * - Page controls its own padding and scrolling\n * - Maximum flexibility for custom layouts\n *\n * ## Sidebar Integration\n * The Layout component integrates the Sidebar component by:\n * - Spreading all `sidebarProps` to the Sidebar component\n * - Managing active view state through `activeView` prop\n * - Handling navigation through `onNavigate` callback\n * - Optional directory display with `directoryName` and `onChangeDirectory`\n *\n * The sidebar is always visible and provides primary navigation for the application.\n * See the Sidebar component documentation for details on navigation items and behavior.\n *\n * ## Responsive Behavior\n * - **Fixed height**: Layout is always 100vh (full viewport height)\n * - **Overflow handling**: Root has `overflow-hidden`, main area controls scrolling\n * - **Responsive padding**: Container padding increases on larger screens\n *   - Mobile: px-4 (16px horizontal)\n *   - Small (640px+): px-6 (24px horizontal)\n *   - Large (1024px+): px-8 (32px horizontal)\n * - **Sidebar width**: Fixed at 256px (w-64) on all screen sizes\n *\n * ## Styling Behavior\n * The Layout uses Tailwind CSS with:\n * - **Root container**: Full height flex row, theme background/foreground colors\n * - **Overflow control**: Root prevents overflow, main area manages content scrolling\n * - **Theme colors**: `bg-background` and `text-foreground` for theme consistency\n * - **Responsive classes**: sm: and lg: breakpoint modifiers for padding\n *\n * @example\n * // Basic layout with container (most common)\n * <Layout sidebarProps={{ activeView: ManagerView.Dashboard, onNavigate: handleNavigate }}>\n *   <h1>Dashboard</h1>\n *   <div>Content with automatic responsive padding and scrolling</div>\n * </Layout>\n *\n * @example\n * // Layout with directory selector in sidebar\n * <Layout\n *   sidebarProps={{\n *     activeView: ManagerView.Agents,\n *     onNavigate: handleNavigate,\n *     directoryName: \"/projects/my-app\",\n *     onChangeDirectory: () => setShowDirectoryPicker(true)\n *   }}\n * >\n *   <AgentsPage />\n * </Layout>\n *\n * @example\n * // Full-width layout without container wrapper\n * <Layout\n *   sidebarProps={{ activeView: ManagerView.Chat, onNavigate: handleNavigate }}\n *   noContainer={true}\n * >\n *   <ChatPage />\n * </Layout>\n *\n * @example\n * // Layout for flow designer (full-width, custom overflow)\n * <Layout\n *   sidebarProps={{ activeView: ManagerView.FlowDesigner, onNavigate: handleNavigate }}\n *   noContainer={true}\n * >\n *   <FlowDesigner className=\"h-full\" />\n * </Layout>\n */\n\nimport React from 'react';\nimport Sidebar, { SidebarProps } from './Sidebar';\n\n/**\n * Props for the Layout component\n */\ninterface LayoutProps {\n  /**\n   * The page content to render in the main area\n   *\n   * Can be any valid React node including components, elements, or fragments.\n   * Will be wrapped in a responsive container unless noContainer is true.\n   */\n  children: React.ReactNode;\n\n  /**\n   * Props to pass to the Sidebar component\n   *\n   * Controls sidebar navigation state and behavior:\n   * - `activeView`: Currently active navigation item (highlighted)\n   * - `onNavigate`: Callback when user clicks navigation items\n   * - `directoryName`: Optional current working directory display\n   * - `onChangeDirectory`: Optional callback for directory selection\n   *\n   * See SidebarProps interface for complete prop definitions.\n   */\n  sidebarProps: SidebarProps;\n\n  /**\n   * Whether to skip the container wrapper and render children directly\n   *\n   * **When false (default)**:\n   * - Children wrapped in responsive container with padding\n   * - Centered content with max-width constraints\n   * - Automatic vertical scrolling\n   * - Standard padding: px-4 (mobile), px-6 (sm+), px-8 (lg+), py-8 (vertical)\n   *\n   * **When true**:\n   * - Children rendered directly in main element\n   * - No automatic padding or max-width\n   * - Page controls its own layout and scrolling\n   * - Useful for full-width layouts (dashboards, editors, chat interfaces)\n   *\n   * @default false\n   */\n  noContainer?: boolean;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children, sidebarProps, noContainer = false }) => {\n  return (\n    <div className=\"flex h-screen bg-background text-foreground overflow-hidden\">\n      <Sidebar {...sidebarProps} />\n      <main className=\"flex-1 flex flex-col overflow-hidden\">\n        {noContainer ? (\n          children\n        ) : (\n          <div className=\"container mx-auto px-4 py-8 sm:px-6 lg:px-8 overflow-y-auto flex-1\">\n            {children}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nLayout.displayName = 'Layout';\n\nexport default Layout;\n",
        "last_modified": "2026-01-02T15:11:36.291369"
      },
      "task_intent": {
        "title": "Document Frontend React Components and Hooks",
        "description": "Add comprehensive JSDoc documentation to all React components and custom hooks in the frontend, including prop types, usage examples, component purposes, state management, and side effects.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-02T14:01:11.666971",
  "last_updated": "2026-01-02T14:22:15.168168"
}